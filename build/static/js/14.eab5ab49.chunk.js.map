{"version":3,"sources":["views/Vaccinations/GoogleMap.js","views/Vaccinations/index.js"],"names":["MapMarker","icon","faMapMarkerAlt","style","fontSize","color","GoogleMap","apiIsLoaded","map","maps","bounds","LatLngBounds","fitBounds","bindResizeListener","event","addDomListenerOnce","addDomListener","window","state","zoom","this","props","item","latitude","longitude","height","width","margin","marginBottom","bootstrapURLKeys","key","center","lat","lng","yesIWantToUseGoogleMapApiInternals","Component","Search","Vaccination","searchHandle","value","setState","isSearching","trim","length","getHospitalsBySuburb","then","resp","respData","data","isMapVisible","dataSource","catch","err","message","error","finally","searchSuggestion","getSuburbList","suburbList","handleMapClick","i","newDataSource","handleModalOk","handleModalCancel","spinning","lg","span","offset","md","bordered","marginTop","title","size","defaultValue","filterOption","inputValue","option","children","toUpperCase","indexOf","prefix","type","placeholder","onSearch","enterButton","grid","column","renderItem","Item","hoverable","onClick","bind","gutter","cover","src","image","alt","name","overflow","fontWeight","streetNumber","roadName","roadType","suburb","postcode","className","faMapMarked","visible","onOk","onCancel","footer"],"mappings":"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","file":"static/js/14.eab5ab49.chunk.js","sourcesContent":["import React, { Component } from 'react'\nimport GoogleMapReact from 'google-map-react'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport {faMapMarkerAlt} from '@fortawesome/free-solid-svg-icons'\n\nconst MapMarker = () => <FontAwesomeIcon  icon={faMapMarkerAlt} style={{fontSize:\"24px\", color:\"red\"}} />\n\n\n  \n  \n\n\nexport default class GoogleMap extends Component {\n    constructor(){\n        super()\n        this.state ={\n            zoom: 13\n        }\n    }\n\n    // defaultCenter = {\n    //     center: {\n    //       lat: this.props.latitude,\n    //       lng: this.props.longitude\n    //     },\n    //     zoom: 13\n    //   };\n    \n\n    apiIsLoaded = (map, maps) => {\n        if (map) {\n          const bounds = new maps.LatLngBounds();\n          map.fitBounds(bounds);\n          this.bindResizeListener(map, maps, bounds);\n        }\n      };\n    \n    bindResizeListener = (map, maps, bounds) => {\n    maps.event.addDomListenerOnce(map, 'idle', () => {\n        maps.event.addDomListener(window, 'resize', () => {\n        map.fitBounds(bounds);\n        });\n    });\n    };\n\n    //   renderMarkers = (map, maps) => {\n    //     let marker = new maps.Marker({\n    //       position: this.state.center,\n    //       map,\n    //       title: this.state.name,\n    //     });\n    //   }\n\n    render() {\n        \n        const{ latitude, longitude } = this.props.item\n        // console.log(latitude)\n        // console.log(longitude)\n        return (\n            // <div></div>\n            <div style={{ height: '50vh', width: '90%', margin:\"auto\", marginBottom:\"24px\"}}>\n                <GoogleMapReact\n                bootstrapURLKeys={{ key: \"AIzaSyC73kt0rEvtd2U-QKDGrEYvbV1S-dlX0EI\"}}\n                // defaultCenter= {{\n                //     lat : -37.8136,\n                //     lng : 144.9631\n                // }}\n                center = {{lat:latitude, lng:longitude}}\n                // defaultZoom=\n                zoom = {this.state.zoom}\n\n                yesIWantToUseGoogleMapApiInternals\n                // onGoogleApiLoaded={({map, maps}) => this.renderMarkers(map, maps)}\n                // onGoogleApiLoaded={({ map, maps }) => apiIsLoaded(map, maps)}\n                >\n                <MapMarker\n                    lat={this.props.item.latitude}\n                    // -37.877093, 145.044425\n                    lng={this.props.item.longitude}\n                />\n                </GoogleMapReact>\n            </div>\n        )\n    }\n}\n","import React, { Component } from 'react'\nimport { Input, Col ,Row, Card, Icon, Spin, List,Tag, message, Modal, AutoComplete} from 'antd';\nimport { getHospitalsBySuburb, getSuburbList } from '../../requests'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport {faMapMarked} from '@fortawesome/free-solid-svg-icons'\nimport GoogleMap from './GoogleMap'\nimport './index.css'\n\n\nconst { Search } = Input;\n\n\nexport default class Vaccination extends Component {\n\n    constructor(){\n        super()\n        this.state={\n            isSearching: false,\n            value: '',\n            suburbList: []\n        }\n    }\n\n\n    searchHandle = (value) => {\n        this.setState({\n            isSearching: true\n        })  \n        // console.log(value)\n        if(value.trim().length>0){\n            getHospitalsBySuburb(value)\n            .then(resp => {\n                const respData = resp.data\n                respData.map( item => {\n                    item.isMapVisible = false\n                    return item\n                })\n                this.setState({\n                    dataSource: respData\n                })\n                // console.log(this.state.dataSource)\n            })\n            .catch(err => {\n            // deal with error\n                message.error(err)\n            })\n            .finally(() => {\n            this.setState({\n                isSearching: false\n                })\n            })     \n        }else{\n            message.error(\"Please enter some words in input area!\")\n            this.setState({\n                isSearching: false\n                }) \n        }\n        \n    }\n\n    searchSuggestion = () => {\n        getSuburbList()\n            .then(resp => {\n                let respData = resp.data\n                // console.log(respData)\n                respData = respData.map((item) => {\n                    return item.trim()\n                })\n                this.setState({\n                    suburbList : respData\n                })\n            })\n            .catch(err => {\n            // deal with error\n                message.error(err)\n            })\n            .finally(() => {\n                // console.log()\n            })     \n    }\n\n    componentDidMount(){\n        this.searchSuggestion()\n        getHospitalsBySuburb(\"KINGSTON\")\n            .then(resp => {\n                const respData = resp.data\n                respData.map( item => {\n                    item.isMapVisible = false\n                    return item\n                })\n                this.setState({\n                    dataSource: respData\n                })\n                // console.log(this.state.dataSource)\n            })\n        \n    }\n\n\n    handleMapClick = (i) => {\n        const newDataSource = this.state.dataSource\n        newDataSource[i].isMapVisible = true\n        this.setState({\n            dataSource: newDataSource\n        })\n        // console.log(this.state.dataSource)\n    }\n\n    handleModalOk = (i) => {\n        const newDataSource = this.state.dataSource\n        newDataSource[i].isMapVisible = false\n        this.setState({\n            dataSource: newDataSource\n        })\n        // console.log(this.state.dataSource)\n    }\n\n    handleModalCancel = (i) => {\n        const newDataSource = this.state.dataSource\n        newDataSource[i].isMapVisible = false\n        this.setState({\n            dataSource: newDataSource\n        })\n    }\n\n    render() {\n        return (\n            <Spin spinning= {this.state.isSearching}>\n            <div>\n                \n                <Col lg={{span:12, offset:6}} md = {{span: 22, offset:1}} >\n                    <Card\n                        bordered = {false}\n                        style = {{marginTop:'8px'}}\n                        title = \"Find a clinic or hospital!\"\n                    >\n                    <Row >\n                    <AutoComplete \n                        style={{width:\"100%\"}}\n                        size=\"large\"\n                        defaultValue=\"KINGSTON\"\n                        dataSource={this.state.suburbList}\n                        filterOption={(inputValue, option) =>\n                            option.props.children.toUpperCase().indexOf(inputValue.toUpperCase()) !== -1\n                          }\n                        // onSearch={this.searchHandle} \n                        // onSelect={this.searchHandle}\n                    >\n                    <Search \n                        prefix={<Icon type=\"search\" />}\n                        placeholder=\"input region name (like kingston, monash)\" \n                        size=\"large\"\n                        onSearch={this.searchHandle} \n                        // defaultValue= \"KINGSTON\"\n                        enterButton  = \"Search\"\n                    />\n                    </AutoComplete>\n                    {/* <div style={{align:'left', border:'1px solid #A5ACB2'}}>aaaaa</div>  */}\n                    </Row> \n\n                    </Card>  \n                </Col>\n\n                <Col span={12} offset={6} style={{marginTop:'16px'}}>\n                <List\n                    grid={{column: 1}}\n                    dataSource = {this.state.dataSource}\n                    renderItem = {\n                        (item,i) => (\n                            <List.Item>\n                                <Card \n                                    hoverable\n                                    onClick={this.handleMapClick.bind(this, i)}\n                                >\n                                <Row gutter={16}>\n                                <Col\n                                    span = {6}\n                                >\n                                    <Card\n                                        cover={<img src={item.image}  alt={item.name} style={{overflow:\"hidden\"}} />}\n                                        bordered = {false}\n                                    >\n                                    </Card>\n                                </Col>\n                                 <Col\n                                    span = {14}\n                                >\n                                    <p style={{marginBottom:'8px', fontSize:'16px', fontWeight:'bold'}}>\n                                    {item.name} \n                                    </p>\n                                    <p>\n                                        <Tag color={item.type === \"PRIVATE\"?\"#87d068\":\"#108ee9\"}>{item.type}</Tag>\n                                    </p>\n                                    <p style={{marginTop:'8px'}}>\n                                        {item.streetNumber} {item.roadName} {item.roadType}, {item.suburb} {item.postcode}, {item.state}\n                                    </p>\n                                </Col>\n                                <Col\n                                    span = {4}\n                                >\n                                    <div className={\"mapIcon\"} ><FontAwesomeIcon  icon={faMapMarked}  /> Map </div>\n                                </Col>\n                                </Row>\n                                </Card>\n                                <Modal\n                                    visible={this.state.dataSource[i].isMapVisible}\n                                    title={item.name}\n                                    onOk={this.handleModalOk.bind(this, i)}\n                                    onCancel={this.handleModalCancel.bind(this, i)}\n                                    footer={null}\n                                >\n                                    <GoogleMap item = {item} />\n                                </Modal>\n                            </List.Item>\n                        )\n                    }\n                >\n                </List>\n                </Col>\n                \n            </div>\n            </Spin>\n        )\n    }\n}\n"],"sourceRoot":""}