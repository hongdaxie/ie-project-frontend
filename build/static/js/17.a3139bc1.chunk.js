(window["webpackJsonpie-project"]=window["webpackJsonpie-project"]||[]).push([[17],{538:function(e,t,a){"use strict";a.r(t);a(150);var n=a(27),i=(a(428),a(440)),l=(a(411),a(414)),o=(a(442),a(439)),c=(a(215),a(151)),d=(a(85),a(32)),s=(a(421),a(423)),r=(a(152),a(11)),m=(a(153),a(86)),u=a(45),f=a(46),h=a(49),p=a(47),g=a(48),E=(a(220),a(95)),y=a(0),b=a.n(y),S=a(55),D=a(69),I=a(155),v=E.a.Content,w=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(h.a)(this,Object(p.a)(t).call(this))).addNewHandle=function(){e.props.history.push({pathname:"/account/addNew/".concat(e.props.id)})},e.toEdit=function(t){e.props.history.push({pathname:"/account/edit/".concat(t),state:{userid:e.props.id}})},e.showDeleteModal=function(t){e.setState({isShowDeleteModal:!0,deleteItemName:t.name,selectedItemId:t.id})},e.deleteItem=function(){e.setState({deleteItemConfirmLoading:!0}),Object(I.b)(e.state.selectedItemId).then(function(t){t.data?(e.setState({},function(){e.loadData(e.props.id)}),m.a.success("You have deleted ".concat(e.state.deleteItemName," successfully!"))):m.a.error("Failed to delete!")}).finally(function(){e.setState({deleteItemConfirmLoading:!1,deleteItemName:"",selectedItemId:null,isShowDeleteModal:!1})})},e.sendNotification=function(t){console.log(t),e.setState({loadingData:!0}),Object(I.i)(t).then(function(e){console.log(e.data),"success"===Object.keys(e.data)[0]?m.a.success(e.data.success):m.a.error(e.data.error)}).finally(function(){e.setState({loadingData:!1})})},e.hideDeleteModal=function(){e.setState({isShowDeleteModal:!1,deleteItemConfirmLoading:!1})},e.loadData=function(t){e.setState({loadingData:!0}),Object(I.c)(t).then(function(t){e.setState({dataSource:t.data})}).finally(function(){e.setState({loadingData:!1})})},e.state={dataSource:[],loadingData:!1,isShowDeleteModal:!1,deleteItemName:"",deleteItemConfirmLoading:!1,selectedItemId:null,isSendingNotification:!1},e}return Object(g.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){this.loadData(this.props.id)}},{key:"render",value:function(){var e=this,t=(new Date).getFullYear().toString();return this.props.isLogin?b.a.createElement(E.a,null,b.a.createElement(v,{style:{padding:"24px",minHeight:280}},b.a.createElement(n.a,{lg:{span:16,offset:4},md:{span:22,offset:1}},b.a.createElement(o.a,{loading:this.state.loadingData,locale:{emptyText:b.a.createElement("div",null,"You can click add new to add your grandparent infomration")},grid:{gutter:16,md:1,lg:2},dataSource:this.state.dataSource,renderItem:function(a,n){return b.a.createElement(o.a.Item,null,b.a.createElement(c.a,{actions:[b.a.createElement(r.a,{type:"edit",key:"edit",theme:"filled",style:{color:"#1890ff"},onClick:e.toEdit.bind(e,a.id)}),b.a.createElement(r.a,{type:"delete",key:"delete",theme:"filled",style:{color:"#FF0000"},onClick:e.showDeleteModal.bind(e,a)})]},b.a.createElement("div",{style:{textAlign:"center"}},b.a.createElement("div",{style:{fontSize:"24px",fontWeight:"bold"}},a.name),b.a.createElement("div",null,"email : ",a.email),b.a.createElement("div",null,"relationship: ",a.relationship),b.a.createElement("div",null,"Phone: ",a.phoneNumber),b.a.createElement("div",null,"Next Vaccine date: ",b.a.createElement(s.a,{color:a.nextVaccineDate.substring(0,4)===t?"#f50":"#87d068"},a.nextVaccineDate)),b.a.createElement("br",null),b.a.createElement(d.a,{type:"primary",onClick:e.sendNotification.bind(e,a.id)},"Send notification"))))}}),b.a.createElement(i.a,{title:b.a.createElement(l.a,{level:1},"This action is unreoverable!!!"),visible:this.state.isShowDeleteModal,onCancel:this.hideDeleteModal,maskClosable:!1,confirmLoading:this.state.deleteItemConfirmLoading,onOk:this.deleteItem},b.a.createElement(l.a,null,"Are you sure to delete ",b.a.createElement("span",{style:{color:"#f00"}},this.state.deleteItemName),"?")),b.a.createElement(c.a,{hoverable:!0,cover:b.a.createElement(r.a,{type:"user-add",style:{fontSize:"64px"}}),onClick:this.addNewHandle},b.a.createElement("div",{style:{textAlign:"center"}},"Add new"))))):b.a.createElement(S.a,{to:"./login"})}}]),t}(y.Component);t.default=Object(D.b)(function(e){return{isLogin:e.user.isLogin,nickname:e.user.nickname,email:e.user.email,id:e.user.id}})(Object(S.g)(w))}}]);
//# sourceMappingURL=17.a3139bc1.chunk.js.map