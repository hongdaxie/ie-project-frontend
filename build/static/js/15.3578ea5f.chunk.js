(window["webpackJsonpie-project"]=window["webpackJsonpie-project"]||[]).push([[15],{539:function(e,a,t){"use strict";t.r(a);t(150);var n=t(27),i=(t(215),t(151)),l=(t(85),t(32)),s=(t(219),t(156)),r=(t(152),t(11)),o=(t(218),t(79)),c=(t(216),t(118)),m=(t(153),t(86)),d=t(45),u=t(46),p=t(49),h=t(47),f=t(48),g=(t(443),t(438)),b=(t(417),t(412)),v=t(0),E=t.n(v),y=t(155),w=t(55),x=t(116),Y=b.a.Option,j=g.a.MonthPicker,D=function(e){function a(){var e;return Object(d.a)(this,a),(e=Object(p.a)(this,Object(h.a)(a).call(this))).handleSubmit=function(a){a.preventDefault(),e.props.form.validateFieldsAndScroll(function(a,t){if(!a){var n=(new Date).getFullYear();t.lastVaccineDate.year()<n?t.nextVaccineDate=x().format("YYYY-MM-DD"):t.nextVaccineDate="".concat(n+1,"-04-01");var i=t.lastVaccineDate.format("YYYY-MM-01");t.lastVaccineDate=i,console.log("Received values of form: ",t);var l={id:e.props.match.params.id};t.userid=l;var s=JSON.stringify(t);e.setState({isLoading:!0}),Object(y.a)(s).then(function(a){a.data?(m.a.success("You have added successfully!"),e.props.history.push({pathname:"/account"})):m.a.error("Failed to add!")}).finally(function(){e.setState({isLoading:!1})})}})},e.validateToPhoneNumber=function(e,a,t){/^04\d{8}$/.test(a)?t():t("You should input legal phone number! Such as: 0413174686 ")},e.validateName=function(e,a,t){/^[A-Za-z\s]+$/.test(a)?t():t("You should input legal name!")},e.validateLength=function(e,a,t){a.length>20?t("The length of the name should no more than 20."):t()},e.state={isLoading:!1},e}return Object(f.a)(a,e),Object(u.a)(a,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator,a=e("prefix",{initialValue:"61"})(E.a.createElement(b.a,{style:{width:70}},E.a.createElement(Y,{value:"61"},"+61")));return E.a.createElement("div",null,E.a.createElement(n.a,{lg:{span:12,offset:6},md:{span:22,offset:1},style:{marginTop:"24px",marginBottom:"24px"}},E.a.createElement(i.a,{style:{maxWidth:"500px",margin:"auto"}},E.a.createElement("div",{style:{textAlign:"center",fontWeight:"bold",fontSize:"24px",marginBottom:"20px"}},"Add new"),E.a.createElement(o.a,Object.assign({},{labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},{onSubmit:this.handleSubmit}),E.a.createElement(o.a.Item,{label:"E-mail"},e("email",{rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your E-mail!"}]})(E.a.createElement(c.a,{disabled:this.state.isLoading}))),E.a.createElement(o.a.Item,{label:"name"},e("name",{rules:[{required:!0,message:"Please input name!",whitespace:!0},{validator:this.validateName},{validator:this.validateLength}]})(E.a.createElement(c.a,{disabled:this.state.isLoading}))),E.a.createElement(o.a.Item,{label:E.a.createElement("span",null,"Relationship\xa0",E.a.createElement(s.a,{title:"What`s the relationship with he/she?"},E.a.createElement(r.a,{type:"question-circle-o"})))},e("relationship",{rules:[{required:!0,message:"Please input relationship!",whitespace:!0},{validator:this.validateLength},{validator:this.validateName}]})(E.a.createElement(c.a,{disabled:this.state.isLoading}))),E.a.createElement(o.a.Item,{label:E.a.createElement("span",null,"Vaccine record\xa0",E.a.createElement(s.a,{title:"When was the last tiem that the person took the flu shot?"},E.a.createElement(r.a,{type:"question-circle-o"})))},e("lastVaccineDate",{rules:[{type:"object",required:!0,message:"Please select time!"}]})(E.a.createElement(j,null))),E.a.createElement(o.a.Item,{label:"Phone Number"},e("phoneNumber",{rules:[{required:!0,message:"Please input your phone number!"},{validator:this.validateToPhoneNumber}]})(E.a.createElement(c.a,{addonBefore:a,placeholder:"e.g.0431374686",style:{width:"100%"}}))),E.a.createElement(o.a.Item,{wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}},E.a.createElement(l.a,{type:"primary",htmlType:"submit",loading:this.state.isLoading},"Add"))))))}}]),a}(v.Component);a.default=o.a.create({name:"newGrandparent"})(Object(w.g)(D))}}]);
//# sourceMappingURL=15.3578ea5f.chunk.js.map